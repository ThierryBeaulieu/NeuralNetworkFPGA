// Generated by CIRCT firtool-1.62.0
module Example(
  input        clock,
               reset,
  input  [7:0] s_axis_tdata,
  input  [1:0] s_axis_tkeep,
  input        s_axis_tvalid,
               s_axis_tlast,
  output       s_axis_tready,
  output [7:0] m_axis_tdata,
  output [1:0] m_axis_tkeep,
  output       m_axis_tvalid,
               m_axis_tlast,
  input        m_axis_tready
);

  reg [7:0] evenCounter;
  reg       transferCount;
  always @(posedge clock) begin
    if (reset) begin
      evenCounter <= 8'h0;
      transferCount <= 1'h0;
    end
    else begin
      if (transferCount)
        evenCounter <= 8'h0;
      else if (s_axis_tvalid & ~(s_axis_tdata[0]))
        evenCounter <= evenCounter + 8'h1;
      transferCount <= ~transferCount & (s_axis_tvalid & s_axis_tlast | transferCount);
    end
  end // always @(posedge)
  assign s_axis_tready = 1'h1;
  assign m_axis_tdata = transferCount ? evenCounter : 8'h0;
  assign m_axis_tkeep = 2'h1;
  assign m_axis_tvalid = transferCount;
  assign m_axis_tlast = transferCount;
endmodule

